(this.webpackJsonpmelp=this.webpackJsonpmelp||[]).push([[0],{40:function(e,a,t){e.exports=t(70)},45:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(15),c=t.n(l),s=(t(45),t(23)),m=t.n(s),i=t(37),o=t(39),u=t(38),f=t.n(u),d=t(12),E=t(5),g=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("header",{className:"bg-alert"},n.a.createElement(d.b,{to:"/"},n.a.createElement("h1",null,"MELP"))),n.a.createElement("h2",{className:"text-center mt-4"},"Encuentra tu restaurante favorito"))},p=function(e){switch(e.rating){case 0:return n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"far fa-star"}),n.a.createElement("i",{className:"far fa-star"}),n.a.createElement("i",{className:"far fa-star"}),n.a.createElement("i",{className:"far fa-star"}));case 1:return n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-star"}),n.a.createElement("i",{className:"far fa-star"}),n.a.createElement("i",{className:"far fa-star"}),n.a.createElement("i",{className:"far fa-star"}));case 2:return n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-star"}),n.a.createElement("i",{className:"fas fa-star"}),n.a.createElement("i",{className:"far fa-star"}),n.a.createElement("i",{className:"far fa-star"}));case 3:return n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-star"}),n.a.createElement("i",{className:"fas fa-star"}),n.a.createElement("i",{className:"fas fa-star"}),n.a.createElement("i",{className:"far fa-star"}));case 4:return n.a.createElement(n.a.Fragment,null,n.a.createElement("i",{className:"fas fa-star"}),n.a.createElement("i",{className:"fas fa-star"}),n.a.createElement("i",{className:"fas fa-star"}),n.a.createElement("i",{className:"fas fa-star"}));default:return null}},h=function(e){var a=e.restaurant;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"card border-primary m-2"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h4",{className:"card-title"},a.name),n.a.createElement("p",{className:"card-text"},"Rating:"," ",n.a.createElement("span",null,n.a.createElement(p,{rating:a.rating}))),n.a.createElement(d.b,{to:"/restaurant/".concat(a.id),className:"btn btn-primary"},"Ver m\xe1s")),n.a.createElement("div",{className:"card-footer"},n.a.createElement("a",{href:a.contact.site,target:"_blank",rel:"noopener noreferrer"},n.a.createElement("i",{className:"fas fa-desktop"})),n.a.createElement("a",{href:"mailto:".concat(a.contact.email),target:"_blank",rel:"noopener noreferrer"},n.a.createElement("i",{className:"fas fa-at"})),n.a.createElement("a",{href:"tel:".concat(a.contact.phone),target:"_blank",rel:"noopener noreferrer"},n.a.createElement("i",{className:"fas fa-phone"})))))},N=function(e){var a=e.restaurants;return n.a.createElement("div",{className:"my-3 mx-5 row d-flex justify-content-center"},a.map((function(e){return n.a.createElement(h,{key:e.id,restaurant:e})})))},v=t(26),b=function(e){var a=e.restaurants,t=e.saveRestaurants;return n.a.createElement("form",{className:"container d-flex justify-content-between mt-4"},n.a.createElement("label",{htmlFor:"order"},"Ordena alfab\xe9ticamente o por rating"),n.a.createElement("select",{onChange:function(e){return function(e){"alpha"===e.target.value&&t(Object(v.a)(a.sort((function(e,a){return e.name.charCodeAt()-a.name.charCodeAt()})))),"rating"===e.target.value&&t(Object(v.a)(a.sort((function(e,a){return a.rating-e.rating}))))}(e)},className:"form-control",id:"order"},n.a.createElement("option",{value:""},"-- Seleccione ---"),n.a.createElement("option",{value:"alpha"},"Alfab\xe9ticamente"),n.a.createElement("option",{value:"rating"},"Rating")))},y=t(73),w=t(74),k=t(72),x=t(75),j=function(e){var a=e.actualRestaurant,t=e.restaurants,r=[a[0].address.location.lat,a[0].address.location.lng],l=t.filter((function(e){return e.id!==a[0].id}));return n.a.createElement(y.a,{center:r,zoom:20,keyboard:!1,touchZoom:"center",dragging:!1},n.a.createElement(w.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),l.map((function(e){return n.a.createElement(k.a,{key:e.id,opacity:.5,position:[e.address.location.lat,e.address.location.lng]},n.a.createElement(x.a,null,e.name,n.a.createElement("br",null),n.a.createElement(p,{rating:e.rating})))})),n.a.createElement(k.a,{position:r},n.a.createElement(x.a,null,a[0].name,n.a.createElement("br",null),n.a.createElement(p,{rating:a[0].rating}))))},F=(t(69),function(){return n.a.createElement("div",{className:"spinner"})}),O=function(e){var a=e.restaurants,t=Object(E.g)().id,r=a.filter((function(e){return e.id===t}));if(0===r.length)return n.a.createElement(F,null);var l=r[0].address.location,c=l.lat,s=l.lng,m=a.filter((function(e){return e.address.location.lat>c-.0015&&e.address.location.lat<c+.0015&&e.address.location.lng>s-.002&&e.address.location.lng<s+.002})),i=m.reduce((function(e,a){return{rating:e.rating+a.rating}})),o=m.map((function(e){return Math.pow(e.rating-i.rating/m.length,2)})),u=Math.sqrt(o.reduce((function(e,a){return e+a}))/m.length),f=m.sort((function(e,a){return a.rating-e.rating}));return n.a.createElement("div",{className:"container"},n.a.createElement("h2",null,r[0].name),n.a.createElement("div",{className:"resume-container"},n.a.createElement("p",null,r[0].address.street,","," ",r[0].address.city,","," ",r[0].address.state,"."),n.a.createElement("div",null,n.a.createElement("p",null,"Restaurantes alrededor: ",m.length),n.a.createElement("p",null,"Promedio de rating:"," ",(i.rating/m.length).toFixed(2)),n.a.createElement("p",null," D. E. de rating: ",u.toFixed(2)))),n.a.createElement("div",{className:"fb-like","data-href":r[0].contact.site,"data-width":"500px","data-layout":"standard","data-action":"like","data-size":"small","data-share":"true"}),n.a.createElement("div",{className:"my-4"},n.a.createElement(j,{actualRestaurant:r,restaurants:a})),n.a.createElement("div",{className:"my-2"},n.a.createElement("h3",null,"Restaurantes Recomendados en la Zona"),n.a.createElement("div",{className:"restaurants-recommended"},f.map((function(e,a){return a>2?null:n.a.createElement(h,{key:e.id,restaurant:e})})))))};var R=function(){var e=Object(r.useState)([]),a=Object(o.a)(e,2),t=a[0],l=a[1];return Object(r.useEffect)((function(){(function(){var e=Object(i.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()("https://recruiting-datasets.s3.us-east-2.amazonaws.com/data_melp.json");case 2:a=e.sent,l(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),n.a.createElement(d.a,null,n.a.createElement(g,null),n.a.createElement(E.d,null,n.a.createElement(E.b,{exact:!0,path:"/"},n.a.createElement(b,{restaurants:t,saveRestaurants:l}),n.a.createElement(N,{restaurants:t})),n.a.createElement(E.b,{exact:!0,path:"/restaurant/:id"},n.a.createElement(O,{restaurants:t})),n.a.createElement(E.b,{path:"*"},n.a.createElement(E.a,{to:"/"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.46dae409.chunk.js.map